<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Language" content="en">
    <!-- meta -->
    <title>Kitserver 12 for Pro Evolution Soccer 2012 Manual</title>
    <style>
        img { display:block;margin:10px 15px 15px 0;border:1px solid #888;}
        table td img {border:0}
        .note { background-color:#edc;color:#654; }
        div.note { padding:5px; }
        p.minornote { background-color:#eee;color:#666;padding:5px;font-style:italic }
        .devnote { font-weight:bold;font-style:italic;color:#666; }
        table {padding:10px 0 10px 0;margin-top:5px;border-right:1px;border-bottom:1px}
        table td {padding:9px;border:1px solid #888}
        table th {padding:5px;border:1px solid #888;background-color:#cdf;text-align:left}
        table.stad_names {padding:0;border-right:1px solid #888;border-bottom:1px solid #888;margin-bottom:20px;}
        table.stad_names th {font-size:0.8em;}
        table.stad_names td {font-size:0.8em;}
        table.stad_names th {padding:5px;border-left:1px solid #888;border-top:1px solid #888;border-right:none;border-bottom:none}
        table.stad_names td {padding:5px;border-left:1px solid #888;border-top:1px solid #888;border-right:none;border-bottom:none}
        span.kitid {color:#080;font-style:italic}
        pre {background-color:#cdf;border-top:1px solid #668;border-bottom:1px solid #668}
        h5 {color:#444; background-color:#eee; display:block;padding:5px;margin-top:10px;margin-bottom:5px;font-family:arial;font-size:1.0em}
        h6 {color:#444; background-color:#eee; display:block;padding:5px;margin-top:10px;margin-bottom:5px;font-family:arial;font-size:0.8em}
        h3,h4 {color:#456; background-color:#bcd;display:block;padding:5px;font-family:arial;margin-top:1.3em;}
        h2 {color:#68b; display:block;padding:5px 0 5px 0;font-family:tahoma,arial;border-bottom:3px solid #68b}
        div,span,p,li {font-family:arial;}
        li {margin-bottom:10px;}
        table {font-family:arial;}
        table.shpal td {padding:5px 20px 5px 0;border-bottom:1px solid #000;
            border-top:none;border-left:none;border-right:none}
        table.shpal td.top {border-top:1px solid #000}
        span.soft {font-weight:bold;color:#696;}
        span.ex {font-weight:bold;color:#669;}
        a {color:#448;}
        a:visited {color:#448;}
        a:hover {color:#448;background-color:#ccf}
        a:active {color:#448;}
        tr.newf td {background-color:#efd}
        span.exclam {font-weight:bold;color:#484;}
        span.emph {color:#844;}
        span.emph2 {color:#822;font-weight:bold;}
        div.hist {color:#888;float:right;}
        span.buttontext {font-weight:bold;color:#000;background-color:#888}
        a.ac{font-weight:bold;}
        a.backlink {float:right;margin-top:0.6em}
    </style>
</head>
<body>
<h2>Kitserver 12 Manual</h2>

<div class="hist">
Version history: <a href="history.txt">history.txt</a><br />
</div>
<div>
    February 20, 2012 - <b>Kitserver 12.2.2</b> -
    <span class="emph2">"A parting gift"</span> release
</div>
<p class="note">
Usually, the most up-to-date version of this documentation, and the translations to many languages, are located here: <a href="http://kitserver.ath.cx/docs/">http://kitserver.ath.cx/docs/</a>. Documentation for Kitservers 5-8 and Kitserver 2010/11 can also be found there.
</p>

<!-- ad top -->
<img style="border:0;align:left;display:inline;float:right" src="ks12logo.png"/>
<h3>1. Introduction</h3>
<p>
Kitserver 12 is an add-on program for Pro Evolution Soccer 2012 and Pro Evolution Soccer 2012 Demo/Demo2. It is a loader and manager for various modules, where
each module is built as a (typically) independent DLL containing logic to 
enhance the game in particular aspect. While originally the Kitserver was 
developed to "serve" kits for Pro Evolution Soccer 3, a lot more functionality 
has been added over the years.<br />
Below is a quick summary of the available features. Follow the link in the left column to get more details about a particular module.
</p>

<p>
If you are new to Kitserver, please make sure you read the
<a href="#install">installation instructions</a>.
</p>

<p>
<table>
    <tr><td><a href="#afs2fs">AFS2FS 12.2.1</a></td>
        <th><b>afs2fs.dll</b></th>
        <td>Manage AFS (.img) game content using files and folders: much easier and quicker to install/remove patches, without the need modify *.img files.</td>
    </tr>
    <tr><td><a href="#kserv">Kserv 12.2.2</a></td>
        <th><b>kserv.dll</b></th>
        <td>Organize your kits into GDB, and assign each team its own kits.</td>
    </tr>
    <tr><td><a href="#fserv">Faceserver 12.2.2</a></td>
        <th><b>fserv.dll</b></th>
        <td>Assign special face/hair (from GDB) to any player you want.</td>
    </tr>
    <tr><td><a href="#lodmixer">LOD Mixer 12.2.1</a></td>
        <th><b>lodmixer.dll</b></th>
        <td>Misc visual tweaks, fine-tune LOD for players and referees.</span>
        </td>
    </tr>
    <tr><td><a href="#speeder">Speeder 12.2.1</a></td>
        <th><b>speeder.dll</b></th>
        <td>Increase or decrease gameplay speed.</td>
    </tr>
    <tr><td><a href="#sides">Sides 12.2.1</a></td>
        <th><b>sides.dll</b></th>
        <td>Allow free side selection during matches.</td>
    </tr>
</table>
</p>

<a name="install">
<p><a class="backlink" href="#">Top</a></p>
<h3>2. Installation / Removal</h3>
</a>

<h5>2.1. Install</h5>

<h6>2.1.1. Before you start: RECOMMENDATION</h6>
<p>
Because of the nature of work that Kitserver does, it is advised that you 
install PES into a non-system folder. Instead of putting it into 
C:\Program Files\KONAMI\Pro Evolution Soccer (default location on XP), use
a folder that you have full ownership and control over. For example,
<b>C:\Games\PES2012</b>, or something like that. New Windows versions have
hidden logic related to system folders like "Program Files", so it is best
to avoid them and save yourself plenty of time and hair.
</p>

<h6>2.1.2. Unpacking and configuring Kitserver</h6>

<p>Unpack the archive (kitserver-12.x.x.zip) into some temporary folder.
You will see a folder called <b>kitserver12</b>. Copy this entire folder
into your game main folder, so it looks like the picture below. 
That is it, you are done.

<img src="layout1.png"/>

<h5>2.2. Uninstall</h5>

<p>Uninstall is very easy: just delete the <b>kitserver12</b> folder, when
you no longer need it. Kitserver doesn't write into system folders, or 
anything of that sort, so removal is very simple.
</p>


<h3>3. Running the game</h3>

<h5>3.2. Running the game with Kitserver</h5>

<p>
In order for Kitserver features to work in the game, you need to "attach"
the Kitserver to your game main executable (typically called pes2012.exe).
To do that, go to kitserver12 folder, and run <b>manager.exe</b>. 
If you placed the files correctly during installation steps, then you will 
see manager showing you the list of game
executables that you can Attach/Detach kitserver to. Click [Attach] button,
and wait for the manager to confirm that the attachment was successful.
Now go one level up in the folder hierarchy and double-click on the game
exe (to which you just attached the kitserver) and the game should start.
</p>

<p>Note that you do not need to attach the kitserver every time you start
the game - you only need to do it once. Once attached, it stays that way,
until you detach it.</p>

<img src="manager.png" />

<h5>3.3. Running the game without Kitserver</h5>

<p>You can always run the game without Kitserver.
To do so, you will need to Detach the kitserver from the game exe. 
(You can always re-attach later again). Run 
<b>manager.exe</b>, select the correct exe, and click [Detach] button. Wait
for the manager to confirm that it had successfully detached kitserver.
Now run the game exe, and Kitserver will no longer be loaded.
</p>

<p>This is handy for troubleshooting crashes, for example. Things go wrong 
no matter what, so the first thing you'd want to do is to isolate a problem. 
You will want to know if the Kitserver is causing a crash, or if something else is at fault. Launching the game without Kitserver is a good first step to
see what's causing the issue.
</p>


<p><a class="backlink" href="#">Top</a></p>
<h3>4. Configuration</h3>

<h5>4.1. Main configuration file: config.txt</h5>

<p>Kitserver uses a file called <b>config.txt</b> as its main 
configuration file. A lot of things are specified there, including which 
modules to load, what settings those modules should use, and etc. 
Here is an example of what can be in config.txt:
</p>

<pre>
[afs2fs]
img.dir = "c:\mypesfiles\root1"

[kload]
dll = afs2fs
dll = speeder
dll = lodmixer

[speeder]
count.factor = 1.0

</pre>

<p>
Each module can have its own configuration section, which starts with <b>[<i>module-name</i>]</b>, and typically has one or more options following it. Now, normally you wouldn't need to modify config.txt file, except for the cases, when you need to modify the behaviour of a particular module (DLL), or enable/disable such DLL.
</p>

<p>To disable a particular module - just comment out the corresponding line in the <b>[kload]</b> section by putting a '#' symbol at the beginning. (Or you can delete that line altogether.)
</p>

<a name="config"><br /></a>
<h5>4.2. Configuration tool - config.exe</h5>

<p>Formerly known as lodcfg.exe (it used to be the GUI tool for LOD mixer 
only, but now it covers other configuration options as well), this simple 
GUI program allows to modify some configuration settings in config.txt. 
It's a helper tool and all that it does, you can also do manually, by 
editing config.txt in your favourite text editor. <span class="note">In fact, 
some things you can <i>only</i> do manually - like adding and removing 
modules (DLLs)</span>. But for simple things - like changing game speed or
fine-tuning the LOD levels, it's faster and easier to just launch 
<b>config.exe</b>, quickly adjust things, then click [Save] button, and 
you're done.
</p>

<p>
<img src="config1.png" />
</p>

<!-- ad middle -->

<a name="afs2fs"><br /></a>
<p><a class="backlink" href="#">Top</a></p>
<h3>5. AFS2FS Module (afs2fs.dll)</h3>

<p>
This module allows to organize your BIN-files into folders on disk, instead of inserting them into AFS(*.img) files, which is sometimes a pain, and may require a lot of extra disk space.
</p>

<p>Several people over the last few years had suggested similar solutions, but ultimately it was <b>Str@teG</b> who kept talking about this idea of organizing BINs into folders, and eventually i decided to just go ahead and do it. So now this is realized in the this module - afs2fs.dll. From personal experience, i know that people are sometimes reluctant to install big patches that require an AFS-rebuild, not because it's particularly difficult or anything, but because it can be time-consuming and disk-space-hungry. With afs2fs, this is now very easy: you just put the BIN into correct folder and that's it. And, of course, there are no size constraints - the bins can be as large as needed!
</p>

<p>The module is also handy, when you want to try a patch without risking
totally destroying the content that you already have. Putting a new patch into
a separate AFS-root and modifying config.txt is all you need to get it going.
Removal as easy too: delete the correspoding "img.dir" line in config.txt, and
then delete the AFS-root folder. Multiple patches is no longer a management nightmare :). (See more info on AFS-roots in the sections below)</p>

<h5>5.1. How to set up the folders</h5>

<p>
Start by choosing a location where you would be putting your files. 
For example, let's take <b>c:\mypesfiles\root1</b>. This will be your so-called
AFS-root. Inside that folder, create a folder called <b>img</b>. (This is 
very important that you have the folder named "img", since the game relies
on particular names). Then, inside <b>img</b>, create folders, as needed, 
named - <b>dt00.img</b>, <b>dt01.img</b>, <b>dt0b.img</b>, and so for. 
That's where you're going to be putting the BIN-files. 
</p>

<p class="note">It's important to name the folders correctly: a folder must 
have exactly the same name as the corresponding AFS-file. For instance, 
if you call a folder dt00, instead of dt00.img, things will not work.
</p>

<p>This is how my <b>img</b> folder looks:

<img src="afs2fs.png"/>
</p>

<h5>5.2. How to name the files</h5>

<p class="devnote">In general, you can name the files whichever way you want, but you must follow one rule: there must be a BIN number in the name, and it must be preceded by an underscore character ('_'). Also, the filenames CANNOT be longer than 63 characters.
</p>

<p>
Examples of correctly named files:<br /><br />
<span style="color:#080;font-weight:bold">unknown_317.bin</span><br />
<span style="color:#080;font-weight:bold">goalnet_41.bin</span><br />
<span style="color:#080;font-weight:bold">ball_11.bin</span><br />
<span style="color:#080;font-weight:bold">unknow_11</span> (.bin extension is optional)<br />
<span style="color:#080;font-weight:bold">music_23.adx</span> (a file can have a different extension: .adx is typically used for music and sound files)<br />
</p>

<p>
Examples of incorrectly named files:<br /><br />
<span style="color:#800;font-weight:bold">unnamed10.bin</span> - no underscore symbol before the BIN number.<br />
<span style="color:#800;font-weight:bold">face.bin</span> - no BIN number.<br />
</p>

<h5>5.3. AFS roots</h5>
<p>
By default, the AFS2FS module will not search any "special" default paths. Instead you must specify your AFS roots explicitly: In <b>[afs2fs]</b> section of config.txt, you can speficy the location of your root, which can be anywhere on your hard disk. You can also have multiple roots, which is very useful if you have several patches, and you don't want to lose track of which BINs came from which patches (so that you can easily uninstall a patch by just deleting its root folder). 
</p>

<p>Here is an example with 3 different roots are configured:</p>

<pre>
[afs2fs]
img.dir = "c:\mypesfiles\root1"
img.dir = "example-root"
img.dir = "patch-RPL"
</pre>

<p>
The order of the roots is significant, when it comes to resolving "collisions". Say, you have a <b>dt0b.img/ball_11.bin</b> in the second root (example-root), and <b>dt0b.img/superball_11.bin</b> in the third root (patch-RPL). Even though the files are actually named differently, they intend to replace the same BIN - #11 from dt0b.img, and therefore we have a "collision". <span class="devnote">The rule is simple: the lower root in the list wins.</span> Which means that in this situation, the <b>dt0b.img/superball_11.bin</b> file will be used, since its root is listed last in the [afs2fs] section.</p>

<p class="note">IMPORTANT thing to remember: 
The root is the folder that <i>contains</i> "img", not the "img" folder itself. In other words, if the full pathname is <b>c:\mypesfiles\root1\img"</b>, then in the config.txt you should have: <b>img.dir = "c:\mypesfiles\root1"</b>
</p>

<h5>5.4. Names for balls and songs</h5>
<p>
When replacing songs with AFS2FS, it is also possible to change the title of the song and the artist's name, by using a <b>songs.txt</b> map-file, which should be put into afs-root folder.<br />
<br />
Here's an example of such songs.txt file:
</p>

<pre>
# Song names map
# Format: &lt;binId&gt;, "&lt;title&gt;", "&lt;artist&gt;" 
# Note that double quotes are required.

22, "I'm mad about you", "Sting"
23, "Вне зоны доступа", "Город 312"
</pre>

<p class="devnote" style="font-weight:normal">IMPORTANT: as with all other map-files and config files that Kitserver uses, 
the encoding of the file needs to be <b>Utf-8</b> or <b>Unicode</b>, especially
of you use non-latin symbols - like in the example above. (<b>ANSI</b> encoding
is ok if you only use Latin-1 characters.)
</p>

<p>
Similarly with balls, if you are replacing ball BINs, you probably want to
adjust their names too. One easy way to do that is to use a <b>balls.txt</b> map-file, which should be put into afs-root folder:

<pre>
# Ball names map
# Format: &lt;ball-number&gt;, "&lt;name&gt;"
# Note that double quotes are required.
# (Ball numbers go from 1 to 16)

8, "Nike-ball Blue"
9, "Мячик плохонький"
</pre>

<p>It is worth noting that each afs-root folder can have its own songs.txt
and balls.txt. Since each afs-root may contain music files and ball files,
it makes sense to tie the names to them this way. If you have multiple afs-roots(as when for example you have multiple patches, and each patch uses its own
afs-root), then the "conflicts" are resolved the same way as they are with BINs (see above for details). In other words, if one afs-root has name for song 11, and another afs-root has a name for song 11, then whichever afs-root is specified lower in the list (in config.txt) - will win.</p>

<p>Here's a picture to clarify where <b>songs.txt</b> and <b>balls.txt</b> files should be placed. In this case "root1" is my afs-root:

<img src="names.png"/>
</p>

<a name="kserv"><br /></a>
<p><a class="backlink" href="#">Top</a></p>
<h3>6. Kserv Module (kserv.dll)</h3>

<p>
Kserv module is responsible for serving kits from the GDB ("<b>G</b>ame content <b>D</b>ata<b>B</b>ase") during the game. The main feature of it is that you are not limited to the slots that dt0c.img has for the kits, and you can assign a kit to any team. 
</p>

<p class="devnote" style="font-weight:normal">
Kserv was historically the first module implemented in the original Kitserver program, made for PES3. That's where the <b>Kitserver</b> name originated from. Later, as more functionality were introduced as new modules, to avoid confusion, we changed the name of the module that serves kits to <b>kserv</b>, while Kitserver name now refers to the entire program.
</p>

<h5>6.1 GDB organization</h5>

<p>
The GDB contains a folder named <b>uni</b>, which is responsible for storing
the team kits (uniforms). The single most important file inside <b>uni</b> is called <b>map.txt</b>.
This file tells kitserver where to find the kits for particular team. 
As you know, each team has a unique id - an integer in the range from 1 to 
65535, although in practice there are only about 500 teams potentially 
available in the game.
</p>

<div class="devnote">PLEASE NOTE that this year the mapping is slightly
different: GDB now uses team <b>ID</b>s instead of team positions (indices)
in EDIT.bin data, as was done in previous years. This may initially be
somewhat confusing to people who got used to GDB using different numbers
to refer to teams. But long term, i believe, this will actually simplify things
a lot: team IDs are already used by other editing tools, so it makes
sense for the GDB to refer to the teams by also using the same IDs.
</div>

<p>It is very easy to find out the ID for any team:<br />
Just run the game once with kserv module installed, and it will create
a file called <b>"teamlist.txt"</b> in kitserver folder, which will 
contain IDs for all teams in your game.</p>

<p>
For every team in the GDB, you must specify in the map.txt where the kits for this team are. Here is an example:

<pre>
# This config maps team number into folder name
# Format: &lt;team-num&gt;,"&lt;folder name&gt;"
# Example: 31,"Russia"

31,"National\Russia"
14, "National\Germany"
101, "EPL\Arsenal"
</pre>
</p>

<p>You can now also use hexadecimal notation to specify ids, if you
prefer that to regular decimal numbers. Just make sure to use the "0x" 
prefix to distinguish hex numbers from decimal ones:

<pre>
0x0065, "EPL\Arsenal"
0x038c, "National\Classics\Argentina"
</pre>

<p>
<div class="note">IMPORTANT: Double quotes are not required, but advised - 
    just so that there is no ambiguity about folder name.</div>
</p>

<p>
Please note that the sample GDB (provided with kitserver) is just one possible way of organizing the teams and 
folders. It uses "EPL" folder to group all english teams, "National" - to group all national
teams, and so for. You may find that you just prefer a flat list of folders - without these
extra groups. In that case, just modify the <b>map.txt</b> file accordingly, and create
the structure of folders that you prefer. That's the main advantage of having map.txt - the
flexibility of kit organization.
</p>

<p>
You can see from map.txt above that in order to find a kit for team #101, the kitserver needs to go to the 
folder <b>GDB\uni\EPL\Arsenal</b>. This folder will contain all of the kits that are
available to team #101. Inside it, you must create an individual folder for each kit. Like this:

<img src="arsenal.png"/>

For players, 1st kit must have a folder name <b>pa</b>, 2nd - <b>pb</b>. Extra kits can have 
any folder names that start with letter "p". I found it useful to prefix all extra kits with 
<b>px-</b>. For example, <b>px-redwhite</b>.--> For the goalkeepers, 1st kit must be in the folder
<b>ga</b>, 2nd - in the <b>gb</b>. Extra kits can have any folder names that start with letter "g".
</p>

<div class="note">Please note, that currently (as of <b>kserv 12.1.0</b>)
    extra kits for players and goalkeepers are not yet supported. I may
    implement them in the future releases.</div>

<!--
<div class="note">IMPORTANT: Folder name acts as a kind of ID for kitserver, which puts the 
additional restriction on all those folder names: they cannot contain spaces, and preferably
they should be relatively short, and in English,French or other language withing Latin1 
(iso8859-1) character set. Typically, if you want to make sure kitserver can properly
find/read the folder, just use latin characters, digits, underscore, and the dash (minus sign).
</div>
-->

<img src="kserv-exhib.png" />

<h5>6.2 European kits</h5>

<p>A team may also have an alternative set of kits, which are only used in 
European club competitions, such as UEFA Champions League and UEFA Europa 
League. Put those kits into folders named: <b>euro-ga</b>, <b>euro-gb</b>, 
<b>euro-pa</b>, and <b>euro-pb</b> respectively. These kits are optional, however. If a team folder does not have euro-* kits, then the regular ones 
(ga, gb, pa, pb) will be used instead in European matches.
</p>

<img src="kserv-cl.png" />

<p>
Now let's move on inside one of the kit folders. Take <b>pa</b>, for example.

<img src="pa.png" />

See the table below for explanation of each file:
</p>

<div class="note">Images must be in PNG format: 8-bit paletted or 4-bit paletted (those may be used with fonts/numbers). So the filename must have 
a ".png" extension.</b></div>

<p>
<table>
    <tr><th>Reserved file name</th><th>Meaning</th><th>Format</th></tr>
    <tr><td><nobr>kit.png</nobr></td><td>Kit texture</td>
        <td>1024x512 8-bit paletted image in PNG format.
    </td></tr>
    <tr><td><nobr>font.png</nobr></td><td>Font texture: used for names on the back of the shirt</td>
        <td>256x64 8-bit or 4-bit paletted image in PNG format.</td></tr>
    <tr><td><nobr>numbers.png</nobr></td><td>Numbers texture: used for numbers on the back and the front of the shirt, and also on shorts</td>
        <td>512x256 8-bit or 4-bit paletted image in PNG format.</td></tr>
    <tr><td>config.txt</td><td>Kit attribute configuration file (see next section for more details)</td>
        <td>text file (in UTF-8 encoding)</td></tr>
</table>
</p>

<p class="devnote">
IMPORTANT NOTE TO KITMAKERS:<br />
BMP kits are no longer supported, please use PNG format instead.
</p>

<h5>6.3. config.txt</h5>

<p>
This is the attribute configuration file.
As before, it is just a plain text file - you can use Notepad or any other text editor to
view or modify it. For each folder, you should have a <b>config.txt</b> file in it. Here is an example config.txt from <b>pa</b> folder:
</p>

<pre>
# Attribute configuration file auto-generated by GDB Manager

collar = 1
front.number.show = 0
main.color = BA001D
second.color = D7D7D7
socks.color = D7D7D7
icon.type = 4
model = 10
name.shape = type3
name.show = 1
name.size = 28
name.y = 20
number.size = 20
number.y = 7
shorts.color = D7D7D7
shorts.number.location = left
shorts.number.size = 20
shorts.number.x = 12
shorts.number.y = 8
sleeve.patch.left.pos.long = 12
sleeve.patch.left.pos.short = 12
sleeve.patch.right.pos.long = 7
sleeve.patch.right.pos.short = 7
</pre>

<p><br />
The summary table of all the supported attributes:</p>

<table>
    <tr><th>Attribute name</th><th>Meaning</th><th>Format</th><th>Example</th></tr>
    <tr>
        <td><b>collar</b></td>
        <td>Collar-type (note that different models will have different interpretations of the collar value)</td>
        <td>1/2/3/4</td>
        <td><nobr>collar = 1</nobr></td>
    </tr>
	<tr>
        <td><b>description</b></td>
        <td>Any notes about the kit. This text will be displayed on
            kit selection screen. Useful when there are
            several kits that look nearly identical,
            but you want to know which one is currently selected.</td>
        <td>any text in double quotes</td>
        <td><nobr>description = "Home red"</nobr></td>
    </tr>
    <tr>
        <td><b>front.number.show</b></td>
        <td>Specifies if front number should be shown on the shirt: 1-show, 0-hide.(This only applies to national teams.)
        </td>
        <td>0|1</td>
        <td><nobr>front.number.show = 1</nobr></td>
    </tr>
    <tr>
        <td><b>front.number.size</b></td>
        <td>How big the front number on the shirt is.</td>
        <td>decimal number. Range: 1-30</td>
        <td><nobr>front.number.size = 8</nobr></td>
    </tr>
    <tr>
        <td><b>front.number.x</b></td>
        <td>Horizontal position of the front number on the shirt.</td>
        <td>decimal number. Range: 0(left)-30(right)</td>
        <td><nobr>front.number.x = 26</nobr></td>
    </tr>
    <tr>
        <td><b>front.number.y</b></td>
        <td>Vertical position of the front number on the shirt.</td>
        <td>decimal number. Range: 0(low)-30(high)</td>
        <td><nobr>front.number.y = 18</nobr></td>
    </tr>
	<tr>
        <td><b>main.color</b><br />
            <span style="color:#888"><b>( radar.color )</b></span></td>
        <td>This attribute specifies the main color of the shirt. It is also used as the color of the players on radar screen. It also influences the kit that is selected by default. (The old name "radar.color" is also supported for backwards compatibility)</td>
        <td>color, written in hexadecimal format RRGGBB (red,green,blue)</td>
        <td><nobr>main.color = A70623</nobr><br />
            <nobr><span style="color:#888">radar.color = A70623</span></nobr></td>
    </tr>
	<tr>
        <td><b>second.color</b></td>
        <td>This attribute specifies the "second" color of the shirt. It is used in Formation screens (Game Plan), when painting the player icons, together
            with the main color.</td>
        <td>color, written in hexadecimal format RRGGBB (red,green,blue)</td>
        <td><nobr>second.color = D7D7D7</nobr></td>
    </tr>
	<tr>
        <td><b>socks.color</b></td>
        <td>This attribute specifies the color of the socks.</td>
        <td>color, written in hexadecimal format RRGGBB (red,green,blue)</td>
        <td><nobr>socks.color = D7D7D7</nobr></td>
    </tr>
	<tr>
        <td><b>icon.type</b></td>
        <td>Type of the player icon used in Formation screen (Game Plan).
            This affects how the the icon is drawn: one solid color, 
            striped, or some other pattern of two colors.</td>
        <td>decimal integer (range: 0-16)</td>
        <td><nobr>icon.type = 1</nobr></td>
    </tr>
    <tr>
        <td><b>model</b></td>
        <td>identifier for 3D-model of the shirt</td>
        <td>decimal integer</td>
        <td><nobr>model = 45</nobr></td>
    </tr>
    <tr>
        <td><b>name.show</b></td>
        <td>Specifies if player name should be shown on the shirt: 1-show, 0-hide.</td>
        <td>0|1</td>
        <td><nobr>name.show = 1</nobr></td>
    </tr>
    <tr>
        <td><b>name.shape</b></td>
        <td>Indicates whether the name should be curved or straight. The values
have the same meaning as in Edit Mode: type1 - straight, type2 - slightly curved,
type3 - more curved, type4 - even more curved.</td>
        <td>type1|type2|type3|type4</td>
        <td><nobr>name.shape = type1</nobr></td>
    </tr>
    <tr>
        <td><b>name.size</b></td>
        <td>Size of the player's name on the shirt.</td>
        <td>decimal number. Range: 1-35</td>
        <td><nobr>name.size = 28</nobr></td>
    </tr>
    <tr>
        <td><b>name.y</b></td>
        <td>Vertical position of the player's name.</td>
        <td>decimal number. Range: 0(low)-30(high)</td>
        <td><nobr>name.y = 24</nobr></td>
    </tr>
    <tr>
        <td><b>number.size</b></td>
        <td>Size of the number on the back.</td>
        <td>decimal number. Range: 1-35</td>
        <td><nobr>number.size = 22</nobr></td>
    </tr>
    <tr>
        <td><b>number.y</b></td>
        <td>Vertical position of the number on the back.</td>
        <td>decimal number. Range: 0(low)-30(high)</td>
        <td><nobr>number.y = 11</nobr></td>
    </tr>
	<tr>
        <td><b>shorts.color</b></td>
        <td>This attribute specifies the color of the player/gk shorts. The color
         of shorts is used by the game to determine correct color of the underpants
         for those players who wear them, and have them set to match the shorts
         color.</td>
        <td>color, written in hexadecimal format RRGGBB (red,green,blue)</td>
        <td><nobr>shorts.color = A70623</nobr></td>
    </tr>
    <tr>
        <td><b>shorts.number.location</b></td>
        <td>Where on the shorts the number should be placed. 
            ("off" means the number will not be displayed at all.)
        </td>
        <td>left|right|off</td>
        <td><nobr>shorts.number.location = left</nobr></td>
    </tr>
    <tr>
        <td><b>shorts.number.size</b></td>
        <td>Size of the number on shorts.</td>
        <td>decimal number. Range: 1-35</td>
        <td><nobr>shorts.number.size = 14</nobr></td>
    </tr>
    <tr>
        <td><b>shorts.number.x</b></td>
        <td>Horizontal position of the number on shorts.</td>
        <td>decimal number. Range: 0(left)-30(right)</td>
        <td><nobr>shorts.number.x = 14</nobr></td>
    </tr>
    <tr>
        <td><b>shorts.number.y</b></td>
        <td>Vertical position of the number on shorts.</td>
        <td>decimal number. Range: 0(low)-30(high)</td>
        <td><nobr>shorts.number.y = 6</nobr></td>
    </tr>
    <tr>
        <td><b>sleeve.patch.left.pos.long</b></td>
        <td>Position of the patch on left long sleeve.</td>
        <td>decimal number. Range: 0-13</td>
        <td><nobr>sleeve.patch.left.pos.long = 12</nobr></td>
    </tr>
    <tr>
        <td><b>sleeve.patch.left.pos.short</b></td>
        <td>Position of the patch on left short sleeve.</td>
        <td>decimal number. Range: 0-13</td>
        <td><nobr>sleeve.patch.left.pos.short = 12</nobr></td>
    </tr>
    <tr>
        <td><b>sleeve.patch.right.pos.long</b></td>
        <td>Position of the patch on right long sleeve.</td>
        <td>decimal number. Range: 0-13</td>
        <td><nobr>sleeve.patch.right.pos.long = 7</nobr></td>
    </tr>
    <tr>
        <td><b>sleeve.patch.right.pos.short</b></td>
        <td>Position of the patch on right short sleeve.</td>
        <td>decimal number. Range: 0-13</td>
        <td><nobr>sleeve.patch.right.pos.short = 7</nobr></td>
    </tr>
</table>

<p class="devnote">
By default, the usage of "description" attribute is enabled, but if you want, you can disable it. To do that, edit the main configuration file, and add the following option to the [kserv] section:
</p>

<pre>
[kserv]
use.description = 0
</pre>

<h5>6.4. "Techfit" models</h5>

<p>In their DLC updates, KONAMI included new models which use different kit
textures - the one where two variants of a kit coexist in the same picture:
a tight fit, and a normal one.</p>

<p>Only certain models support those textures, and as of November 2011, they
are: 34,35,36,37,38,44,55,56,57,65,69,100. Kitserver supports those
without any additional configuration. However, if another update is released
and more models like that are added, it is now possible to specify them
in the [kserv] section of config.txt. You need to list <b>all</b> of them 
like this:
</p>

<pre>
[kserv]
techfit.model = 34
techfit.model = 35
techfit.model = 36
techfit.model = 37
techfit.model = 38
techfit.model = 44
...
</pre>

<h5>6.5. "Tight" models</h5>

<p>Another type of special model is Puma Tight-fit.
It allows to make any normal kit become tight-fitting kit (good examples of
that are kits worn by African teams)</p>

<p>As of November 2011, models 5, 6, 7, 8, 22, 83, 89 and 90 are like 
that, and Kitserver supports those without any additional configuration. 
However, if another update is released and more models like that are added, 
it is possible to specify them in the [kserv] section of config.txt. 
You need to list <b>all</b> of them like this:
</p>

<pre>
[kserv]
tight.model = 5
tight.model = 6
tight.model = 7
...
</pre>

<a name="fserv"><br /></a>
<p><a class="backlink" href="#">Top</a></p>
<h3>7. Faceserver (fserv.dll)</h3>

<p>
Faceserver makes it possible to load as many faces and hair from the GDB as 
you want. So, you can assign each player a unique face/hair combination, if 
you want to, including custom created players. Faceserver makes use of unique 
ids, which are assigned to each player, and it creates "virtual" face and 
hair slots, that only exist during run-time. 
</p>

<img src="fserv.jpg"/>

<h5>7.1. How to find out ID for a player</h5>
<p>
If you have faceserver enabled (which it is by default), just start the game, and then in the <b>kitserver12</b> folder, there should appear a text file called <span style="color:#060"><b>playerlist.txt</b></span>. It will contain the IDs for all the players that you have in your game, sorted alphabetically for easy searching, including the user-defined players that were created from scratch in Edit mode (those typically take IDs starting from 1048576).
</p>

<p>The only player ID not available in playlist.txt file is the ID for you BAL (Be-A-Legend) player. However, it looks like that ID is always: 16777376.
</p>

<h5>7.2. How to configure</h5>
<p>
Faceserver uses a map file (<b>GDB/faces/map.txt</b>), similar in format to Kserv: you specify player's unique ID, followed by a filename for his face, and optionally followed by a filename for his hair:<br />
</p>
<p class="devnote">{ID}, {face-file}, {hair-file}</p>

<p>
The filenames are relative to <b>GDB/faces</b> folder, but inside that you're free to organize them whichever way you want: either one flat directory, or a folder hierarchy. The only important thing is that you correctly specify the paths in the map.txt. The double-quotes around filenames are optional.
</p>

<p>
Here are some examples of entries in map.txt:

<pre>
# Example 1: face and hair BINs:
8637, Anyukov_face.bin, Anyukov_hair.bin
</pre>

<pre>
# Example 2: face and hair BINs put into a separate folder "anyukov":
8637, anyukov/face.bin, anyukov/hair.bin
</pre>

<pre>
# Example 3: face only
8637, "anyukov/face.bin"
</pre>

<pre>
# Example 4: hair only (notice 2 commas!)
8637, , anyukov/hair.bin
</pre>
</p>

<h5>7.3. Network play</h5>
<p>
Faceserver should work fine in all online modes, although i have not 
done a lot of testing with it.
</p>

<a name="lodmixer"><br /></a>
<p><a class="backlink" href="#">Top</a></p>
<h3>8. LOD Mixer (lodmixer.dll)</h3>

<p>
LOD-Mixer is the module that allows to fine-tune some aspects of PES 2012 graphics engine.<br />
These settings can be configured manually in kitserver's main 
configuration file (kitserver/config.txt), but it is probably easier 
to use Kitserver's <a href="#config">configuration tool</a> 
(<b>config.exe</b>). 
</p>

<p>
<img src="config-video.png" />
</p>

<h5>8.1. Aspect Ratio.</h5>
<p>
Many LCD monitors are neither 4:3 nor 16:9. Often, a 16:10 ratio is
used, or even 16:9.6. This results in the picture being distored: players either
too fat or too skinny, and ball is not round. In this year version, Konami 
are again using the black bars (as in PES2009, PES2010, and PES2011) to 
compensate for the
case when aspect-ratio is different (<b>LB</b> checkbox). However, if you 
don't like the black bars, then run settings.exe, turn off the LB checkbox, and then use Kitserver's aspect-ratio correction feature instead:
</p>

<p>
With LOD Mixer, you can set the aspect ratio to whatever you want. Either let
LOD Mixer calculate it automatically - at run-time, using the current screen
width and height in pixels - or set the value manually. Automatic way would work quite
accurately, assuming the pixel is square. Sometimes, however, you would want to
set it manually. For example, i play on widescreen monitor, but using a 800x600 
resolution, because my video card is not powerful enough. The automatic 
calculation would give 4:3, but since the view is stretched to fill the entire 
screen, we need to account for that. Setting aspect ratio to 1.6 (which is a 
natural AR for my laptop) does the trick.
</p>

<h5>8.2. Screen Resolution.</h5>
<p>
You can set any screen resolution you want, if you play in a Windowed mode. Even
crazy screens like 1234x487 will work, but you're likely to suffer from 
performance problems on such cases.
Hidden fullscreen resolutions are fully unlocked now as well. However, only those
that your video card really supports in full-screen mode, will work. If you 
accidently choose an unsupported fullscreen resolution, then PES should still 
be able to start in a window.
</p>

<h5>8.3. Picture Quality</h5>
<p>
Although this is now a rare case, there are still situations, where the
game (and the settings.exe) do not correctly analyze the capability of the
video card, and because of that can erroneously disable "Medium" and "High"
picture quality settings.
</p>

<p>
If you are a "lucky" one with a card like that, LOD mixer can help you play
with a better picture quality. Selecting one of the settings - Low, Medium,
or High - will override the choice made in settings.exe, and will also 
disable any video compatibility checks that the game makes. Therefore, be
careful with this feature: if you video card does NOT indeed support the
chosen picture quality, the game will most likely crash or exit abnormally.
</p>


<h5>8.4. Player and referees LOD configuration.</h5>
<p>
LOD (Level-Of-Detail) algorithms are used in graphics engines to improve both
the picture quality and the speed of rendering, when drawing objects at various
distances from the viewer. The basic idea is that when the object is close to
the camera, one (very detailed) model is used. When it is far - another, simpler
model with less detail is used instead. It's much faster to render a low-poly
model of the object, and it typically looks better, when drawn in small size,
because it suffers less from aliasing. In theory, at least, 
that is how it is supposed to work.
</p>
<p>PES 2012 has 4 different ways it can render a player. The choice of the
rendering used at any given moment depends on several circumstances: how far
the player is from the camera, is this an active player (currently controlled
by human), is this a gameplay rendering or a replay, and so for. Here's the picture that shows how these LODs differ visually:
</p>
<p><img src="lodswitches.jpg" />
</p>
<p>
Notice the <b>S1</b>, <b>S2</b>, <b>S3</b> labels, which are placed among the
four renderings. You can think of them as "switches" from one type of rendering
to another. (For instance, S1 controls when the game engine switches from 
drawing a player at full detail to drawing the same player at slightly less
detail.) This is what the S1,S2,S3 means that you see in the 
configuration tool UI.
</p>
<p>
<img src="config2.png" />
</p>
<p>
Unfortunately, PES series had always suffered from an overly-
conservative LOD configuration, where the switch to low-poly models would 
happen way too soon, and that would result in various visible artifacts. 
In PES4-PES6, examples were: balding players, and missing details on kits. 
In PES2008-PES2012, the players and referees appear to have blurred generic 
faces, once they move slightly away from the camera.
</p>
<p>
So, if you have a good PC and a powerful videocard with GPU cycles to spare, 
you may fancy tuning the LOD sligtly to make the game engine display more 
detailed models, even when they players are a bit away from the camera 
(Animation quality seems to be affected by this as well). To do that, 
<b>move the sliders to the right.</b>
</p>
<p>
Also, if on the contrary, your machine is struggling to run the game at a 
smooth frame rate, you can try moving the LOD sliders in the opposite 
direction - thus making the engine switch to the low-poly models sooner than 
normal. This may improve the framerate, although at the expense of picture 
quality. To achieve that, <b>move the sliders to the left.</b>
</p>

<h5>8.5. Choosing optimal LOD config</h5>

<P>
Configuring LOD well takes time and is best done via trial-and-error method. 
(If it were easy, it would've been probably done right in the first place!) 
I'd like to mention a couple of common errors and incorrect assumpltions
that people often make:</p>

<p><span class="devnote">Myth #1: if I move all sliders to the right, 
I will always have the best picture.</span><br />
That is simply not true. You will get the most detailed and expensive 
rendering, yes, but NOT NECESSARILY the one that looks the best. 
More-detailed objects at far distance actually look worse than 
less-detailed ones, because of the aliasing effect.</p>

<p><span class="devnote">Myth #2: my GPU (video card) is really good, surely it can handle anything thrown at it.</span><br />
That is not true either. Current generation of games has become 
quite sofisticiated and resource-hungry. GPU and CPU are working hard to 
process the rendering, physics, AI logic. 60 FPS is the typical minimum 
frame-rate at which a game needs to run, in order to provide nice and 
smooth gameplay. That means the rendering of the entire scene must fit 
into 1/60th of a second and still leave some time for other tasks to be 
done. (Physics, in particular is often run at the same rate as rendering, 
so that the picture doesn't suffer from noise.) To make sure rendering 
time doesn't escalate dramatically as more objects are rendered, LOD is 
often employed as an optimization technique. By moving all sliders to 
the right, you are effectively disabling the LOD algorithm and telling 
your GPU: "render all objects on the screen at the most possible detail. 
And if you fry while doing that, i don't care!". Ok, so maybe it's 
not a funny example, but you get the point.</p>

<p>Now, coming back to our game, as i said, in many cases, you only really 
need to adjust 1 slider or two to get the desired effect, and still keep 
the smooth frame-rate. 
</p>

<a name="speeder"><br /></a>
<p><a class="backlink" href="#">Top</a></p>
<h3>9. Speeder module (speeder.dll)</h3>

<p>Not everyone is satisfied with the pace of the gameplay. It must be said
that it is not an easy thing to get this aspect of simulating a football 
match correctly. Many factors are in play, and a lot depends on hardware. 
Personally, i think Konami did a decent job at that, but many folks find
the gameplay too fast.</p>

<p>Several techniques of slowing the game down exist, and not one of them
is perfect, but all work to some extent. The speeder module basically slows
down the clock, sort of tricking the game into running slower. This is not
an ideal solution either, but if a small adjustment is used, it can still
look real, play well, and actually provide a smoother gameplay. Don't
consider it a silver bullet though. It might work well for you, but it 
also may not deliver everything you had hoped for :) (One side-effect,
for example, is that if you set your match time to 10 minutes, but you
have the Game Speed set to 0.9, the actual match time will be approximately
11.1 minutes.)</p>

<p>It is possible to decrease the game speed and also to increase it.
The value <b>1.0</b> gives the default unchanged speed. Less than 1.0 - slower
gameplay, greater than 1.0 - faster gameplay. <span class="devnote">It is not advised to use values lower than 0.7, because the music/commentary starts to break up. Also values larger than 2.5 are not supported. It is already ridiculously fast with 2.5!</span>.
</p>
<p>Use configuration tool to adjust the game speed:<br />
<img src="config-speed.png" />
</p>
<p>
You can also set the game speed adjustment manually in config.txt, 
by using <b>count.factor</b> setting:

<pre>
[speeder]
count.factor = 0.95
</pre>
</p>

<a name="sides"><br /></a>
<p><a class="backlink" href="#">Top</a></p>
<h3>10. Sides module (sides.dll)</h3>

<p>This module allows to change sides freely during non-exhibition matches.
Useful, if you like to play tournaments with your friends, and want them to
play for your opponents, instead of always playing against the CPU.</p>

<p>By default, free selection of sides is disabled. To enable it, click
the <b>Free sides selection</b> checkbox in configuration tool, and press
[Save] button.<br />

<img src="config-sides.png" />
</p>
<p>Or, as always, you can edit the config.txt file, "sides" section, 
and set <b>free.select</b> option
to 1, like shown here:

<pre>
[sides]
free.select = 1
</pre>
</p>

<!-- ad bottom -->

<div style="height:20px"></div>

<h2>Credits</h2>
<p>
Programming: <b>juce</b> and <b>Robbie</b> 
with contributions from <b>Stelios</b><br />
Kit structure information for kserv module: <b>Chris00</b><br />
Beta-testing: members and guests of Evo-Web and PesWe.com forums<br />
Sample GDB uses kits by: <b>Gerlamp</b>, <b>EPT-CGF</b>, <b>alepes</b><br />
Aleksandr Anyukov and Juan Mata faces and hairs by: <b>Anat-Z</b><br />
Kitserver 12 logo: by <b>Ariel</b><br />
</p>

<p>Kitserver license is BSD-style license that can be found here:
<a href="license.txt">license.txt</a>
</p>

</body>
</html>
